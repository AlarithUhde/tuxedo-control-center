<!--
Copyright (c) 2019-2020 TUXEDO Computers GmbH <tux@tuxedocomputers.com>

This file is part of TUXEDO Control Center.

TUXEDO Control Center is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

TUXEDO Control Center is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with TUXEDO Control Center.  If not, see <https://www.gnu.org/licenses/>.
-->

<form [formGroup]="passwordFormGroup">
    <mat-form-field class="profile-name-input">
        <input matInput #inputFocus="matInput" type="{{buttonType}}" formControlName="cryptPassword" placeholder="Crpyt Password" minLength="1" maxLength="50" />

        <mat-error *ngIf="passwordFormGroup.hasError('required')">
            Please enter your current Crypt password
        </mat-error>
    </mat-form-field>
    <br>
    <mat-form-field class="profile-name-input">
        <input matInput type="{{buttonType}}" placeholder="New Crpyt Password" formControlName="newPassword" minLength="1" maxLength="50" [errorStateMatcher]="matcher" />

        <mat-error *ngIf="passwordFormGroup.hasError('required')">
            Please enter your new Crypt password
        </mat-error>
    </mat-form-field>
    <br>
    <mat-form-field class="profile-name-input">
        <input matInput type="{{buttonType}}" placeholder="Confirm New Crpyt Password" formControlName="confirmPassword" minLength="1" maxLength="50" [errorStateMatcher]="matcher" />
        
        <mat-error *ngIf="passwordFormGroup.hasError('notSame')">
            Passwords do not match
        </mat-error>  
    </mat-form-field>
    <mat-error *ngIf="errortext_cryptsetup !== ''">
        <h3>Fehler beim Ã¤ndern des Crypt Passwortes</h3>
        <div>{{ errortext_cryptsetup }}</div>
    </mat-error>
    <br>
</form>

<button mat-stroked-button color="primary" (click)="changePassword()" i18n>Save</button>
<button mat-stroked-button color="basic" (click)="showPassword()" i18n>{{show_password_button_text}}</button>