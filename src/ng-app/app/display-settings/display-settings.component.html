<br />
<mat-card class="display-brightness-settings">
    <mat-card-title>
        Display brightness
    </mat-card-title>
    <mat-card-content>
        <mat-grid-list cols="2" rowHeight="200px">
            <mat-grid-tile>
                <mat-card>
                    <mat-card-subtitle>
                        Current brightness 
                    </mat-card-subtitle>
                    <mat-card-content>
                        <mat-slider min="1" max="100" step="5" #frmInputBrightness [formControl]="inputBrightness" (input)="inputBrightnessChange(frmInputBrightness.value)"></mat-slider>
                        &nbsp;{{ frmInputBrightness.value }}%
                    </mat-card-content>
                </mat-card>
            </mat-grid-tile>
            <mat-grid-tile>
                <mat-card>
                    <mat-card-subtitle>
                        <mat-form-field>
                            <mat-select [(ngModel)]="selectedCustomProfile" placeholder="Edit custom profile" [disableOptionCentering]="true">
                                <mat-option *ngFor="let profile of getCustomProfiles()" [value]="profile.name" (click)="selectCustomProfileEdit(profile.name)">
                                    <span *ngIf="formProfileEdit.dirty && profile.name === selectedCustomProfile">*</span>{{ profile.name }}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                        <button mat-stroked-button color="primary" *ngIf="formProfileEdit.dirty" (click)="submitProfileEdit()">Save</button>
                    </mat-card-subtitle>
                    <mat-card-content *ngIf="currentlyEditingProfile()">
                        <form [formGroup]="formProfileEdit" (ngSubmit)="submitProfileEdit()">
                            <mat-form-field class="brightness-input-field">
                                <mat-label>Brightness</mat-label>
                                <input matInput formControlName="inputBrightnessPercent" type="number" min="1" max="100" [readonly]="inputBrightnessTrackCurrent.value" />
                            </mat-form-field>
                            %
                            <mat-checkbox [formControl]="inputBrightnessTrackCurrent" (change)="trackBrightnessSlider()"></mat-checkbox>
                            <br />
                            <mat-checkbox formControlName="inputUseBrightness" (change)="enableBrightnessControls()">Set fixed brightness on start/wake up</mat-checkbox>
                        </form>
                    </mat-card-content>
                </mat-card>
            </mat-grid-tile>
        </mat-grid-list>
    </mat-card-content>
</mat-card>
