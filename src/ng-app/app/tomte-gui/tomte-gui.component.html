<!--
Copyright (c) 2019-2021 TUXEDO Computers GmbH <tux@tuxedocomputers.com>

This file is part of TUXEDO Control Center.

TUXEDO Control Center is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

TUXEDO Control Center is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with TUXEDO Control Center.  If not, see <https://www.gnu.org/licenses/>.
-->

<h1>TUXEDO Tomte</h1>
<br />
<ng-container *ngIf="!tomteMode"> 
    <p>loading information...</p>
</ng-container>

<ng-container *ngIf="tomteMode"> 

    <h2>Selected installation mode:</h2>                
    <button 
            mat-raised-button 
            color="primary" 
            [disabled]="tomteMode===tomteModes[0]" 
            (click)="tomteModeButton(tomteModes[0])"
            matTooltip="This is the  default  mode.  Everything  will  be  installed/up‐dated/removed automatically by Tomte."
    >
        <ng-container>{{tomteModes[0]}}</ng-container>
    </button>               
    <button 
            mat-raised-button 
            color="primary" 
            [disabled]="tomteMode===tomteModes[1]" 
            (click)="tomteModeButton(tomteModes[1])"
            matTooltip="Only updates will be handled automatically by Tomte. No modules will be installed or removed without user intervention."
    >
        <ng-container>{{tomteModes[1]}}</ng-container>
    </button> 
    <button 
            mat-raised-button 
            color="primary" 
            [disabled]="tomteMode===tomteModes[2]" 
            (click)="tomteModeButton(tomteModes[2])"
            matTooltip="Nothing will be configured by Tomte."
    >
        <ng-container>{{tomteModes[2]}}</ng-container>
    </button> 


    <h2>Tomte Configuration:</h2>
    <table class="tomte-list-output-table">
    <tr *ngFor="let test of tomteList; first as isFirst">
        <ng-container *ngIf="isFirst">
                <th class="tomte-table-padding">{{test[0]}}</th>
                <th class="tomte-table-padding">{{test[1]}}</th>
                <th class="tomte-table-padding">{{test[2]}}</th>
                <th class="tomte-table-padding">{{test[3]}}</th>
                <th class="tomte-table-padding">{{test[4]}}</th>
        </ng-container>
        <ng-container *ngIf="!isFirst">
            <td class="tomte-table-padding">{{test[0]}}</td>
            <td>{{test[1]}}</td>
            <td>
                <ng-container *ngIf="test[2]==='no'">                            
                    <button 
                            class ="tomte-yes-button"
                            [disabled]="test[4] === 'prerequisite'" 
                            (click)="tomteInstallButton(test[0],test[2],test[3])"
                            matTooltip="Install this module"
                    >
                        <ng-container>{{test[2]}}</ng-container>
                    </button>
                </ng-container>
                <ng-container *ngIf="test[2]!=='no'">                            
                    <button 
                            class ="tomte-no-button"
                            [disabled]="test[4] === 'prerequisite'" 
                            (click)="tomteInstallButton(test[0],test[2],test[3])"
                            matTooltip="Uninstall this module"
                    >
                        <ng-container>{{test[2]}}</ng-container>
                    </button>
                </ng-container>

            </td>
            <td> 
                <ng-container *ngIf="test[3]==='no'">                            
                    <button 
                            class ="tomte-no-button"
                            [disabled]="test[4] === 'prerequisite'" 
                            (click)="tomteBlockButton(test[0],test[3])"
                            matTooltip="Block this module"
                    >
                        <ng-container>{{test[3]}}</ng-container>
                    </button>
                </ng-container>
                <ng-container *ngIf="test[3]!=='no'">                            
                    <button 
                            class ="tomte-yes-button"
                            [disabled]="test[4] === 'prerequisite'" 
                            (click)="tomteBlockButton(test[0],test[3])"
                            matTooltip="Unblock this module"
                    >
                        <ng-container>{{test[3]}}</ng-container>
                    </button>
                </ng-container>
            </td>
            <td>{{test[4]}}</td>
        </ng-container>
    </tr>
    </table>

</ng-container> 

<br />
<br />
<br />
