<br />
<mat-toolbar>
    <mat-toolbar-row *ngIf="!inputActive" style="padding-top: 20px; padding-bottom: 20px;">
        <span [matTooltip]="buttonNew.tooltip()"><button mat-icon-button color="basic" (click)="buttonNew.click()" *ngIf="buttonNew.show()" [disabled]="buttonNew.disable()"><mat-icon>library_add</mat-icon></button></span>
        <span [matTooltip]="buttonCopy.tooltip()"><button mat-icon-button color="basic" (click)="buttonCopy.click()" *ngIf="buttonCopy.show()" [disabled]="buttonCopy.disable()"><mat-icon>file_copy</mat-icon></button></span>
        <span [matTooltip]="buttonEdit.tooltip()"><button mat-icon-button color="basic" (click)="buttonEdit.click()" *ngIf="buttonEdit.show()" [disabled]="buttonEdit.disable()"><mat-icon>edit</mat-icon></button></span>
        <span [matTooltip]="buttonDelete.tooltip()"><button mat-icon-button color="warn" (click)="buttonDelete.click()" *ngIf="buttonDelete.show()" [disabled]="buttonDelete.disable()"><mat-icon>delete</mat-icon></button></span>
        <span [matTooltip]="" *ngFor="let state of stateInputArray">
            <button mat-stroked-button color="primary" [disabled]="getSettings().stateMap[state.value] === currentProfile.name" (click)="setActiveProfile(currentProfile.name, state.value)">
                <mat-icon>{{ state.icon }}</mat-icon> {{ state.label }}
            </button>
        </span>
    </mat-toolbar-row>
    <mat-toolbar-row *ngIf="inputActive" style="padding-top: 20px; padding-bottom: 20px;">
        <form (ngSubmit)="onInputSubmit()">
            <mat-form-field class="profile-name-input">
                <mat-label>{{ inputProfileNameLabel }}</mat-label>
                <input matInput #inputFocus="matInput" type="text" [formControl]="inputProfileName" (keyup.esc)="inputActive=false" placeholder="Profile name" minLength="1" maxLength="50" />
            </mat-form-field>
            <button mat-stroked-button color="primary">Save</button>
            <button mat-stroked-button color="basic" (click)="inputActive=false">Cancel</button>
        </form>
    </mat-toolbar-row>
</mat-toolbar>
<br />
<div style="width: 100%; display: flex; flex-wrap: wrap">
    <app-profile-overview-tile
        *ngFor="let profile of getAllProfiles()"
        [profile]="profile"
        [hoverEffect]="true"
        [active]="isProfileActive(profile.name)"
        [isSelected]="profile.name === currentProfile.name"
        (click)="selectProfile(profile.name)">
    </app-profile-overview-tile>
</div>
<br />
<mat-card>
    <mat-card-title>
        <!--mat-chip-list style="display: inline-flex">
            <mat-chip *ngIf="isCustomProfile()" color="accent" selected>Custom</mat-chip>
            <mat-chip *ngIf="!isCustomProfile()">Preset</mat-chip>
        </mat-chip-list-->
    </mat-card-title>
    <mat-card-subtitle>
        <mat-form-field style="width:250px; margin-left: 5px; transform: scale(1.4); transform-origin: left;">
            <mat-select [value]="currentProfile.name" [disableOptionCentering]="true">
                <mat-option *ngFor="let profile of getAllProfiles()" (click)="selectProfile(profile.name)" [value]="profile.name">{{ profile.name }}</mat-option>
            </mat-select>
        </mat-form-field>
    </mat-card-subtitle>
    <mat-card-content>
        <mat-card>
            <mat-card-subtitle>
                Display backlight
            </mat-card-subtitle>
            <mat-card-content>
                <mat-grid-list cols="4" rowHeight="20px" class="profile-information">
                    <mat-grid-tile colspan="2"><header>Set fixed brightness</header></mat-grid-tile><mat-grid-tile><content>{{ currentProfile.display.useBrightness }}</content></mat-grid-tile><mat-grid-tile></mat-grid-tile>
                    <mat-grid-tile colspan="2"><header>Brightness value</header></mat-grid-tile><mat-grid-tile><content>{{ currentProfile.display.brightness }}%</content></mat-grid-tile><mat-grid-tile></mat-grid-tile>
                </mat-grid-list>
            </mat-card-content>
        </mat-card>
        <br />
        <mat-card>
            <mat-card-subtitle>
                CPU settings
            </mat-card-subtitle>
            <mat-card-content>
                <mat-grid-list cols="4" rowHeight="20px" class="profile-information">
                    <mat-grid-tile colspan="2"><header>Number of logical cores</header></mat-grid-tile><mat-grid-tile><content>{{ currentProfile.cpu.onlineCores }}</content></mat-grid-tile><mat-grid-tile></mat-grid-tile>
                    <mat-grid-tile colspan="2"><header>Minimum scaling frequency</header></mat-grid-tile><mat-grid-tile><content>{{ formatFrequency(currentProfile.cpu.scalingMinFrequency) }} GHz</content></mat-grid-tile><mat-grid-tile></mat-grid-tile>
                    <mat-grid-tile colspan="2"><header>Maximum scaling frequency</header></mat-grid-tile><mat-grid-tile><content>{{ formatFrequency(currentProfile.cpu.scalingMaxFrequency) }} GHz</content></mat-grid-tile><mat-grid-tile></mat-grid-tile>
                    <mat-grid-tile colspan="2"><header>Scaling governor</header></mat-grid-tile><mat-grid-tile><content>{{ currentProfile.cpu.governor }}</content></mat-grid-tile><mat-grid-tile></mat-grid-tile>
                    <mat-grid-tile colspan="2"><header>Energy performance preference</header></mat-grid-tile><mat-grid-tile><content>{{ currentProfile.cpu.energyPerformancePreference }}</content></mat-grid-tile><mat-grid-tile></mat-grid-tile>
                </mat-grid-list>
            </mat-card-content>
        </mat-card>
    </mat-card-content>
</mat-card>