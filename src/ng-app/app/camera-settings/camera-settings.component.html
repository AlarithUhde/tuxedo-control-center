<div class="main" [hidden]="!webcamInitComplete">
    <mat-card class="profile-details-edit">
        <mat-card-content>
            <div class="tcc-options-group">
                <div class="title-row">
                    <hr />
                    <div class="title">
                        <svg viewBox="0 0 258 512" class="tcc-icons">
                            <use href="./assets/images/icon_webcam.svg#Icon"></use>
                        </svg>
                        <ng-container i18n="@@cProfMgrDetailsWebcamHeaderLabel">Webcam</ng-container>
                    </div>
                    <hr />
                </div>

                <button id="basic" type="button" mat-button (click)="savingWebcamPresets($event)">
                    Saving Presets
                </button>

                <button id="basic" type="button" mat-button (click)="openWindow($event)">
                    Open Window
                </button>

                <button id="basic" type="button" mat-button (click)="enableCamera()">
                    Enable Camera
                </button>

                <button id="basic" type="button" mat-button (click)="stopWebcam()">
                    Disable Camera
                </button>

                <div class="webcam" id="hidden">
                    <video #video id="video" width="640" height="480" autoplay="true"></video>
                    <mat-spinner class="spinner" [hidden]="!spinnerActive"></mat-spinner>
                </div>

                <mat-card-content class="content">
                    <div>
                        <mat-grid-list [cols]="gridParams.cols" rowHeight="30px" class="profile-details-edit-grid">

                            <mat-grid-tile [colspan]="gridParams.headerSpan">
                                <header>Webcam</header>
                            </mat-grid-tile>
                            <mat-grid-tile></mat-grid-tile>
                            <mat-grid-tile></mat-grid-tile>
                            <mat-grid-tile>
                                <mat-form-field>
                                    <mat-select name="selectedWebcamId" [(value)]="selectedWebcamId"
                                        placeholder="Webcam" (selectionChange)="setWebcam($event.value)">
                                        <mat-option *ngFor="let webcam of webcamDropdownData" [value]="webcam.id">
                                            {{webcam.label}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </mat-grid-tile>
                        </mat-grid-list>

                        <mat-accordion class="example-headers-align" multi class="list-group-item">
                            <mat-expansion-panel *ngFor="let setting of webcamSettings"
                                (opened)="handleRegionPanelStateChange(setting.config_category, true)"
                                (closed)="handleRegionPanelStateChange(setting.config_category, false)"
                                [expanded]="expandedRegions[setting.config_category]">
                                <mat-expansion-panel-header>
                                    <mat-panel-title>
                                        {{ setting.config_type }} / {{ setting.config_category }}
                                    </mat-panel-title>
                                </mat-expansion-panel-header>

                                <div *ngFor="let config of setting.config_data">
                                    <!-- SLIDER -->
                                    <div *ngIf="config.type=='slider'">
                                        <mat-grid-list [cols]="gridParams.cols" rowHeight="30px"
                                            class="profile-details-edit-grid">
                                            <mat-grid-tile [colspan]="gridParams.headerSpan">
                                                <header i18n>{{getConfigTranslation(config.title)}}</header>
                                            </mat-grid-tile>
                                            <mat-grid-tile></mat-grid-tile>
                                            <mat-grid-tile>
                                                <content class="value"></content>
                                                <content class="value"></content>
                                                <button mat-icon-button color="primary">
                                                    <mat-icon>remove</mat-icon>
                                                </button>
                                                <button mat-icon-button color="primary">
                                                    <mat-icon>add</mat-icon>
                                                </button>
                                            </mat-grid-tile>
                                            <mat-grid-tile>
                                                <content class="input">
                                                    <mat-slider max="{{config.max}}" min="{{config.min}}"
                                                        value="{{config.current}}" step="{{config.step}}"
                                                        disabled="{{!config.active}}"
                                                        (change)="setSliderValue($event, config.name)">
                                                    </mat-slider>
                                                </content>
                                            </mat-grid-tile>
                                        </mat-grid-list>

                                        <mat-divider></mat-divider>
                                    </div>

                                    <!-- BOOL -->
                                    <div *ngIf="config.type=='bool'">
                                        <mat-grid-list [cols]="gridParams.cols" rowHeight="30px"
                                            class="profile-details-edit-grid">
                                            <mat-grid-tile [colspan]="gridParams.headerSpan">
                                                <header>{{config.title}}</header>
                                            </mat-grid-tile>
                                            <mat-grid-tile></mat-grid-tile>
                                            <mat-grid-tile></mat-grid-tile>
                                            <mat-grid-tile>
                                                <content class="input">
                                                    <mat-checkbox color="primary" checked="{{config.current}}"
                                                        disabled="{{!config.active}}"
                                                        (change)="setCheckboxValue($event, config.name)">
                                                    </mat-checkbox>
                                                </content>
                                            </mat-grid-tile>
                                        </mat-grid-list>
                                        <mat-divider></mat-divider>
                                    </div>

                                    <!-- MENU -->
                                    <div *ngIf="config.type=='menu'">
                                        <mat-grid-list [cols]="gridParams.cols" rowHeight="30px"
                                            class="profile-details-edit-grid">
                                            <mat-grid-tile [colspan]="gridParams.headerSpan">
                                                <header>{{config.title}}</header>
                                            </mat-grid-tile>
                                            <mat-grid-tile></mat-grid-tile>
                                            <mat-grid-tile>
                                            </mat-grid-tile>
                                            <mat-grid-tile>
                                                <mat-form-field appearance="fill">
                                                    <mat-select>
                                                        <mat-option *ngFor="let option of config.options"
                                                            color="primary" value="{{config.current}}"
                                                            disabled="{{!config.active}}"
                                                            (onSelectionChange)="setOptionsMenuValue($event, config.name, option)">
                                                            {{ option }}
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </mat-grid-tile>
                                        </mat-grid-list>
                                        <mat-divider></mat-divider>
                                    </div>
                                </div>
                            </mat-expansion-panel>
                        </mat-accordion>
                    </div>
                </mat-card-content>
            </div>
        </mat-card-content>
    </mat-card>
</div>