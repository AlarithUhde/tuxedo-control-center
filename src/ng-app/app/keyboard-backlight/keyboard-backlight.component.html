<!--
Copyright (c) 2019-2020 TUXEDO Computers GmbH <tux@tuxedocomputers.com>

This file is part of TUXEDO Control Center.

TUXEDO Control Center is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

TUXEDO Control Center is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with TUXEDO Control Center.  If not, see <https://www.gnu.org/licenses/>.
-->

<mat-card class="tcc-card card-keyboard-backlight">
    <mat-card-title class="theme-page-title">
        <ng-container i18n="@@cKeyboardBacklightLabel">Keyboard Backlight</ng-container>
    </mat-card-title>
    <hr />
    
    <div class="content-container centered">
        <p i18n="@@cKeyboardBacklightDescription">Setup the Keyboard Backlight</p>
    </div>

    <div class="keyboard-backlight-content content" *ngIf="keyboardBacklightCapabilities != undefined">
        <mat-grid-list [cols]="gridParams.cols" rowHeight="3em" class="keyboard-backlight-grid" *ngIf="keyboardBacklightCapabilities.maxBrightness > 0">
            <mat-grid-tile [colspan]="gridParams.headerSpan"><header i18n="@@cKeyboardBacklightBrightnessLabel">Brightness</header></mat-grid-tile>
            <mat-grid-tile [colspan]="gridParams.valueSpan"><content class="value">{{ brightnessSlider.value }}</content></mat-grid-tile>
            <mat-grid-tile [colspan]="gridParams.inputSpan">
                <mat-slider #brightnessSlider
                    [(value)]="chosenBrightness"
                    min="0"
                    [max]="keyboardBacklightCapabilities.maxBrightness"
                    step="1"
                    color="primary">
                </mat-slider>
            </mat-grid-tile>
        </mat-grid-list>

        <div *ngIf="keyboardBacklightCapabilities.maxRed > 0 && keyboardBacklightCapabilities.maxGreen > 0 && keyboardBacklightCapabilities.maxBlue > 0">
            <div *ngIf="keyboardBacklightCapabilities.zones >= 1 && keyboardBacklightCapabilities.zones <= 2">
                <span class="color-visualizer"
                [style.background]="chosenColorHex[0]"
                [(colorPicker)]="chosenColorHex[0]"
                [cpToggle]="true"
                cpDialogDisplay="inline"
                cpAlphaChannel="disabled"></span>
            </div>

            <div *ngIf="keyboardBacklightCapabilities.zones >= 3 && keyboardBacklightCapabilities.zones <= 4">
                <mat-grid-list [cols]="gridParamsSymmetrical.cols" rowHeight="20em" class="keyboard-color-grid">
                    <mat-grid-tile [colspan]="gridParamsSymmetrical.firstSpan">
                        <span class="color-visualizer"
                        [style.background]="chosenColorHex[0]"
                        [(colorPicker)]="chosenColorHex[0]"
                        [cpToggle]="true"
                        cpDialogDisplay="inline"
                        cpAlphaChannel="disabled"></span>
                    </mat-grid-tile>
                    <mat-grid-tile [colspan]="gridParamsSymmetrical.secondSpan">
                        <span class="color-visualizer"
                        [style.background]="chosenColorHex[1]"
                        [(colorPicker)]="chosenColorHex[1]"
                        [cpToggle]="true"
                        cpDialogDisplay="inline"
                        cpAlphaChannel="disabled"></span>
                    </mat-grid-tile>
                    <mat-grid-tile [colspan]="gridParamsSymmetrical.thirdSpan">
                        <span class="color-visualizer"
                        [style.background]="chosenColorHex[2]"
                        [(colorPicker)]="chosenColorHex[2]"
                        [cpToggle]="true"
                        cpDialogDisplay="inline"
                        cpAlphaChannel="disabled"></span>
                    </mat-grid-tile>
                </mat-grid-list>
            </div>
        </div>

        <div class=controls>
            <button mat-stroked-button (click)="onButtonClickApply()" i18n="@@cKeyboardBacklightApply">Apply</button>
        </div>
    </div>
</mat-card>
