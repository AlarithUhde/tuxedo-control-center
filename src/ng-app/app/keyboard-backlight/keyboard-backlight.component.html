<!--
Copyright (c) 2019-2020 TUXEDO Computers GmbH <tux@tuxedocomputers.com>

This file is part of TUXEDO Control Center.

TUXEDO Control Center is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

TUXEDO Control Center is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with TUXEDO Control Center.  If not, see <https://www.gnu.org/licenses/>.
-->

<mat-card class="tcc-card card-keyboard-backlight">
    <mat-card-title class="theme-page-title">
        <ng-container i18n="@@cKeyboardBacklightLabel">Keyboard Backlight</ng-container>
    </mat-card-title>
    <hr />
    
    <div class="content-container centered">
        <p i18n="@@cKeyboardBacklightDescription">Control the Keyboard Backlight</p>
    </div>

    <div class="keyboard-backlight-content content" *ngIf="keyboardBacklightCapabilities === undefined">
        <p i18n="@@cKeyboardBacklightNotSupported">Your device has no keyboard backlight or is not (yet) supported by this control interface.</p>
    </div>

    <div class="keyboard-backlight-content content" *ngIf="keyboardBacklightCapabilities !== undefined">
        <mat-grid-list [cols]="gridParams.cols" rowHeight="3em" class="keyboard-backlight-grid" *ngIf="keyboardBacklightCapabilities.maxBrightness > 0">
            <mat-grid-tile [colspan]="gridParams.headerSpan"><header i18n="@@cKeyboardBacklightBrightnessLabel">Brightness</header></mat-grid-tile>
            <mat-grid-tile [colspan]="gridParams.valueSpan"><content class="value">{{ brightnessSlider.value }}</content></mat-grid-tile>
            <mat-grid-tile [colspan]="gridParams.inputSpan">
                <mat-slider #brightnessSlider
                    [value]="chosenBrightness"
                    min="0"
                    [max]="keyboardBacklightCapabilities.maxBrightness"
                    step="1"
                    color="primary"
                    (input)="onBrightnessSliderInput($event)"
                    (onTouched)="onBrightnessSliderTouched($event)"
                    (change)="onBrightnessSliderChange($event)">
                </mat-slider>
            </mat-grid-tile>
        </mat-grid-list>

        <div *ngIf="keyboardBacklightCapabilities.maxRed > 0 && keyboardBacklightCapabilities.maxGreen > 0 && keyboardBacklightCapabilities.maxBlue > 0">
            <div *ngIf="keyboardBacklightCapabilities.zones >= 1 && keyboardBacklightCapabilities.zones <= 2">
                <mat-grid-list [cols]="gridParamsSymmetrical.cols" rowHeight="20em" class="keyboard-color-grid">
                    <mat-grid-tile [colspan]="gridParamsSymmetrical.firstSpan + gridParamsSymmetrical.secondSpan">
                        <svg width="100%" height="100%" viewBox="0 0 1022.041 384.39645">
                            <path
                                id="zone0"
                                style="fill:none;stroke-width:3"
                                [style.stroke]="chosenColorHex[0]"
                                d="M 1.5,1.5 V 33.023438 H 58.78125 V 1.5 Z m 136.96094,0 v 31.523438 h 57.35937 V 1.5 Z m 68.56054,0 v 31.523438 h 57.36133 V 1.5 Z m 68.39844,0 v 31.523438 h 57.36133 V 1.5 Z m 68.48047,0 v 31.523438 h 57.35938 V 1.5 Z m 68.73242,0 v 31.523438 h 57.2793 V 1.5 Z m 68.22852,0 V 33.023438 H 538.2207 V 1.5 Z m 68.47851,0 v 31.523438 h 57.36133 V 1.5 Z m 68.47852,0 v 31.523438 h 57.36133 V 1.5 Z m 68.48242,0 v 31.523438 h 57.35938 V 1.5 Z m 68.47852,0 v 31.523438 h 57.36132 V 1.5 Z m 68.48047,0 v 31.523438 h 57.36132 V 1.5 Z m 68.48046,0 v 31.523438 h 57.35938 V 1.5 Z m 68.48047,0 v 31.523438 h 57.3594 V 1.5 Z M 69.980469,1.5039062 V 33.023438 H 127.33984 V 1.5039062 Z M 1.5,44.943359 V 102.94336 H 50.460938 V 44.943359 Z m 58.640625,0 V 102.94336 H 118.14062 V 44.943359 Z m 71.839845,0 v 58.000001 h 57.91992 V 44.943359 Z m 71.75976,0 v 58.000001 h 58 V 44.943359 Z m 71.83985,0 v 58.000001 h 57.99023 V 44.943359 Z m 71.83984,0 v 58.000001 h 57.91992 V 44.943359 Z m 143.60547,0 v 58.000001 h 57.91602 V 44.943359 Z m 426.71484,0 V 102.94336 H 1020.541 V 44.943359 Z m -354.95898,0.002 V 102.9356 h 57.99023 V 44.945312 Z m 71.83984,0 V 102.9356 h 57.99024 V 44.945312 Z m 72.95899,0 v 58.000001 h 56.80078 V 44.945312 Z m 71.75976,0 V 102.94531 H 836.2207 V 44.945312 Z m 70.72071,0 V 102.9356 h 57.99023 V 44.945312 Z m -430.875,0.0039 v 57.990231 h 57.99023 V 44.949219 Z M 1.5,114.86328 v 58 h 84.878906 v -58 z m 94.560547,0 v 58 h 57.919923 v -58 z m 71.839843,0 v 58 h 57.91992 v -58 z m 71.75977,0 v 58 h 58 v -58 z m 71.83984,0 v 58 h 57.91992 v -58 z m 642.07812,0 v 58 h 18 v 69.91992 h 48.96098 v -69.91992 -8.4082 -49.5918 z m -570.31835,0.002 v 57.99024 h 57.99218 v -57.99024 z m 71.84179,0 v 57.99024 h 57.99024 v -57.99024 z m 71.83985,0 v 58 h 57.91992 v -58 z m 71.75976,0 v 57.99024 h 57.99024 v -57.99024 z m 71.83985,0 v 58 h 57.92187 v -58 z m 71.76171,0 v 57.99024 h 57.99024 v -57.99024 z m 71.83789,0 v 57.99024 h 57.99024 v -57.99024 z m 71.83985,0 v 58 h 57.91992 v -58 z M 1.5,184.7832 v 58 h 102.79883 v -58 z m 112.48047,0 v 58 h 58 v -58 z m 71.83008,0 v 58 h 58 v -58 z m 71.84961,0 v 58 h 57.91992 v -58 z m 143.59961,0 v 56.80078 h 57.91992 V 184.7832 Z m 71.76171,0 v 57.99219 h 57.99024 V 184.7832 Z m 71.83985,0 v 57.99219 h 57.99023 V 184.7832 Z m 71.83984,0 v 58 h 57.91992 v -58 z m 71.75977,0 v 57.99219 h 57.99023 V 184.7832 Z m 143.68164,0 v 58 h 57.91992 v -58 z m 71.75586,0 v 57.99219 h 57.99218 V 184.7832 Z m -574.47852,0.002 v 57.99023 h 57.99219 V 184.7852 Z m 430.88477,0.002 v 57.99609 H 818.2207 V 184.7872 Z m 107.67578,69.9043 v 57.9335 h 152.48833 v -57.93359 z m -785.681642,0.0117 v 57.91211 H 140.21094 V 254.7032 Z m 139.441402,0 v 57.91993 h 57.91993 V 254.7032 Z m 215.43946,0 v 57.91993 h 57.92187 V 254.7032 Z m 143.60156,0 v 57.91993 h 57.91992 V 254.7032 Z m 215.43945,0 v 57.91993 h 57.91992 V 254.70312 Z M 1.5,254.70508 V 312.625 h 66.878906 v -57.91992 z m 148.41211,0 v 57.91797 h 58 v -57.91797 z m 143.58984,0 V 312.625 h 57.99024 v -57.91992 z m 71.83789,0 v 57.91797 h 57.99219 v -57.91797 z m 287.20118,0 v 57.91797 h 57.99218 v -57.91797 z m 71.83984,0 v 57.91797 h 58 v -57.91797 z m -215.43945,0.008 v 57.91016 h 57.99023 v -57.91016 z m 215.43945,69.83008 v 57.99219 h 57.99023 v -57.99219 z m 238.24023,0.0801 v 57.92187 H 1020.541 V 324.62305 Z M 1.5,324.625 v 57.91992 H 68.380859 V 324.625 Z m 80.802734,0 v 57.91992 H 140.22266 V 324.625 Z m 67.599606,0 v 57.91797 h 58 V 324.625 Z m 71.83985,0 v 57.91992 h 57.91992 V 324.625 Z m 71.75781,0 v 57.91992 H 638.78125 V 324.625 Z m 359.04102,0 v 57.91992 h 57.99023 V 324.625 Z m 143.63867,0.0156 v 57.90235 h 58 V 324.6406 Z m 69.57031,0 v 27.32032 h 85.22266 V 324.6406 Z m 0,30.9375 v 27.31836 h 85.22266 V 355.5781 Z" />
                        </svg>
                    </mat-grid-tile>
                    <mat-grid-tile [colspan]="gridParamsSymmetrical.thirdSpan">
                        <span class="color-visualizer"
                        [style.background]="chosenColorHex[0]"
                        [colorPicker]="chosenColorHex[0]"
                        cpToggle="true"
                        cpDialogDisplay="inline"
                        cpAlphaChannel="disabled"
                        (cpSliderChange)="onColorPickerInput($event, 0)"
                        (cpInputChange)="onColorPickerInput($event, 0)"
                        (cpSliderDragStart)="onColorPickerDragStart($event, 0)"
                        (cpSliderDragEnd)="onColorPickerDragEnd($event, 0)"></span>
                    </mat-grid-tile>
                </mat-grid-list>
            </div>

            <div *ngIf="keyboardBacklightCapabilities.zones >= 3 && keyboardBacklightCapabilities.zones <= 4">
                <mat-grid-list [cols]="gridParamsSymmetrical.cols" rowHeight="20em" class="keyboard-color-grid">
                    <mat-grid-tile [colspan]="gridParamsSymmetrical.firstSpan + gridParamsSymmetrical.secondSpan + gridParamsSymmetrical.thirdSpan">
                        <svg width="100%" height="100%" viewBox="0 0 1225 384.11557">
                            <path
                                id="zone0"
                                style="fill:none;stroke-width:3"
                                [style.stroke]="chosenColorHex[0]"
                                d="M 1.5,1.5 V 33.023436 H 58.781247 V 1.5 Z m 136.96094,0 v 31.523436 h 57.35938 V 1.5 Z m 68.56055,0 v 31.523436 h 57.36133 V 1.5 Z m 68.39843,0 v 31.523436 h 57.36133 V 1.5 Z M 69.980467,1.503906 v 31.51953 H 127.33985 V 1.503906 Z M 1.5,44.943356 V 102.94336 H 50.460937 V 44.943356 Z m 58.640627,0 V 102.94336 H 118.14063 V 44.943356 Z m 71.839843,0 v 58.000004 h 57.91992 V 44.943356 Z m 71.75977,0 v 58.000004 h 58 V 44.943356 Z m 71.83984,0 v 58.000004 h 57.99024 V 44.943356 Z M 1.5,114.86329 v 58 h 84.878907 v -58 z m 94.560547,0 v 58 h 57.919923 v -58 z m 71.839843,0 v 58 h 57.91993 v -58 z m 71.75977,0 v 58 h 58 v -58 z M 1.5,184.78321 v 58 h 102.79883 v -58 z m 112.48047,0 v 58 h 58 v -58 z m 71.83008,0 v 58 h 58 v -58 z m 71.84961,0 v 58 h 57.91992 v -58 z M 82.298827,254.70313 v 57.91211 h 57.912113 v -57.91211 z m 139.441413,0 v 57.91992 h 57.91992 V 254.70313 Z M 1.5,254.70513 v 57.91992 h 66.878907 v -57.91992 z m 148.41211,0 v 57.91797 h 58 v -57.91797 z m 143.58985,0 v 57.91992 h 57.99023 V 254.70508 Z M 1.5,324.625 v 57.91993 H 68.380857 V 324.625 Z m 80.802737,0 v 57.91993 H 140.22266 V 324.625 Z m 67.599613,0 v 57.91797 h 58 V 324.625 Z m 71.83984,0 v 57.91993 h 57.91992 V 324.625 Z" />
                            <path
                                id="zone1"
                                style="fill:none;stroke-width:3"
                                [style.stroke]="chosenColorHex[1]"
                                d="m 343.90039,1.5 v 31.523436 h 57.35938 V 1.5 Z m 68.73243,0 v 31.523436 h 57.27929 V 1.5 Z m 68.22851,0 v 31.523436 h 57.35938 V 1.5 Z m 68.47852,0 v 31.523436 h 57.36133 V 1.5 Z m 68.47851,0 v 31.523436 h 57.36133 V 1.5 Z m 68.48242,0 v 31.523436 h 57.35938 V 1.5 Z m 68.47852,0 v 31.523436 h 57.36133 V 1.5 Z m 68.48047,0 V 33.023436 H 880.6211 V 1.5 Z M 347.41992,44.943356 v 58.000004 h 57.91993 V 44.943356 Z m 143.60547,0 v 58.000004 h 57.91602 V 44.943356 Z m 71.75586,0.002 v 57.990234 h 57.99024 V 44.945356 Z m 71.83985,0 v 57.990234 h 57.99023 V 44.945356 Z m 72.95898,0 v 58.000004 h 56.80078 V 44.945356 Z m 71.75977,0 v 58.000004 h 56.88086 V 44.945356 Z m -360.1543,0.004 V 102.9396 h 57.99023 V 44.949216 Z M 311.5,114.86329 v 58 h 57.91992 v -58 z m 71.75977,0.002 v 57.99023 h 57.99219 v -57.99023 z m 71.8418,0 v 57.99023 h 57.99023 v -57.99023 z m 71.83984,0 v 58 h 57.91992 v -58 z m 71.75977,0 v 57.99023 h 57.99023 v -57.99023 z m 71.83984,0 v 58 h 57.92187 v -58 z m 71.76172,0 v 57.99023 h 57.99023 v -57.99023 z m 71.83789,0 v 57.99023 h 57.99023 v -57.99028 z m -412.88086,69.91792 v 56.80078 h 57.91992 v -56.80078 z m 71.76172,0 v 57.99218 h 57.99023 v -57.99218 z m 71.83984,0 v 57.99218 h 57.99024 v -57.99218 z m 71.83985,0 v 58 h 57.91992 v -58 z m 71.75976,0 v 57.99218 h 57.99024 v -57.99218 z m 143.68164,0 v 58 h 57.91992 v -58 z m -502.72266,0.002 v 57.99023 h 57.99219 v -57.99023 z m 430.88477,0.002 v 57.9961 h 57.91602 v -57.9961 z m -323.125,69.91602 v 57.91992 h 57.92188 v -57.91992 z m 143.60156,0 v 57.91992 h 57.91993 v -57.91992 z m 215.43946,0 v 57.91992 h 57.91992 v -57.91992 z m -430.88086,0.002 v 57.91797 h 57.99218 v -57.91797 z m 287.20117,0 v 57.91797 h 57.99219 v -57.91797 z m 71.83984,0 v 57.91797 h 58 v -57.91797 z m -215.43945,0.008 v 57.91016 h 57.99023 v -57.91016 z m 215.43945,69.83008 v 57.99219 h 57.99024 v -57.99219 z m 71.83985,0.002 v 58 h 84.88086 v -58 z M 293.5,324.62541 v 57.91993 h 345.28125 v -57.91993 z m 359.04102,0 v 57.91993 h 57.99023 v -57.91993 z" />
                            <path
                                id="zone2"
                                style="fill:none;stroke-width:3"
                                [style.stroke]="chosenColorHex[2]"
                                d="M 891.74024,1.5 V 33.023436 H 949.0996 V 1.5 Z m 68.48046,0 v 31.523436 h 57.3594 V 1.5 Z m 68.4785,0 v 31.523436 h 57.3613 V 1.5 Z m 68.4805,0 v 31.523436 h 57.3594 V 1.5 Z m 68.959,0 V 33.023436 H 1223.5 V 1.5 Z M 917.7402,44.943356 V 102.94336 H 1020.541 V 44.943356 Z m -67.67965,0.002 v 57.990234 h 57.99023 V 44.945356 Z m 180.16995,0 V 102.9434 h 57.9902 V 44.945356 Z m 67.6699,0 V 102.9434 h 57.9199 V 44.945356 Z m 67.6035,0 v 57.990234 h 57.9922 V 44.945356 Z M 953.5781,114.86333 v 58 h 66.961 v -58 z m -67.59763,0.002 v 58 h 57.91993 v -58 z m 144.25003,0 v 57.99023 h 57.9902 v -57.99023 z m 135.2734,0 v 57.99023 h 57.9922 v -57.99023 z m -67.6035,0.002 v 57.99805 h 57.9199 v -57.99819 z m -194.00196,69.91588 v 57.99218 h 57.99216 v -57.99218 z m 67.67966,0 v 58 h 48.961 v -58 z m 193.9258,0 v 57.99218 h 57.9922 v -57.99218 z m -135.2734,0.002 v 57.99805 h 57.9902 v -57.99805 z m 67.6699,0 v 57.99805 h 57.9199 v -57.9981 z m -229.91993,69.9062 V 312.625 h 84.96093 v -57.93359 z m 94.64063,0.01 v 57.92187 h 57.9199 v -57.92187 z m 67.6094,0.004 v 57.99805 h 57.9902 v -57.99805 z m 67.6699,0 v 57.99805 h 57.9199 v -57.99805 z m 67.6035,0 v 57.99024 h 57.9922 v -57.99024 z m -135.2734,69.91016 v 58 h 57.9902 v -58 z m 67.6699,0 v 58 h 57.9199 v -58 z m 67.6035,0 v 57.99219 h 57.9922 v -57.99219 z m -202.8828,0.008 v 57.92188 h 57.9199 v -57.92188 z m -67.67969,0.0176 v 57.90234 h 57.99999 v -57.90234 z" />
                        </svg>
                    </mat-grid-tile>
                    <mat-grid-tile [colspan]="gridParamsSymmetrical.firstSpan">
                        <span class="color-visualizer"
                        [style.background]="chosenColorHex[0]"
                        [colorPicker]="chosenColorHex[0]"
                        cpToggle="true"
                        cpDialogDisplay="inline"
                        cpAlphaChannel="disabled"
                        (cpSliderChange)="onColorPickerInput($event, 0)"
                        (cpInputChange)="onColorPickerInput($event, 0)"
                        (cpSliderDragStart)="onColorPickerDragStart($event, 0)"
                        (cpSliderDragEnd)="onColorPickerDragEnd($event, 0)"></span>
                    </mat-grid-tile>
                    <mat-grid-tile [colspan]="gridParamsSymmetrical.secondSpan">
                        <span class="color-visualizer"
                        [style.background]="chosenColorHex[1]"
                        [colorPicker]="chosenColorHex[1]"
                        cpToggle="true"
                        cpDialogDisplay="inline"
                        cpAlphaChannel="disabled"
                        (cpSliderChange)="onColorPickerInput($event, 1)"
                        (cpInputChange)="onColorPickerInput($event, 1)"
                        (cpSliderDragStart)="onColorPickerDragStart($event, 1)"
                        (cpSliderDragEnd)="onColorPickerDragEnd($event, 1)"></span>
                    </mat-grid-tile>
                    <mat-grid-tile [colspan]="gridParamsSymmetrical.thirdSpan">
                        <span class="color-visualizer"
                        [style.background]="chosenColorHex[2]"
                        [colorPicker]="chosenColorHex[2]"
                        cpToggle="true"
                        cpDialogDisplay="inline"
                        cpAlphaChannel="disabled"
                        (cpSliderChange)="onColorPickerInput($event, 2)"
                        (cpInputChange)="onColorPickerInput($event, 2)"
                        (cpSliderDragStart)="onColorPickerDragStart($event, 2)"
                        (cpSliderDragEnd)="onColorPickerDragEnd($event, 2)"></span>
                    </mat-grid-tile>
                </mat-grid-list>
            </div>
        </div>
    </div>
</mat-card>
